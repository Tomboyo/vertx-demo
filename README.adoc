= Vertx-demo

image:https://img.shields.io/badge/vert.x-4.3.1-purple.svg[link="https://vertx.io"]

This application was generated using http://start.vertx.io

== Building

To launch tests:

```
./mvnw clean test
```

To package the application:

```
./mvnw clean package
```

To run the application:

```
./mvnw exec:java
```

To make requests to the local deployment:

```
curl https://localhost:8443/ --cacert conf/certs/cert.pem
```

== Minikube

Start the minikube cluster:

```
minikube start
```

Create a Docker image:

```
eval $(minikube docker-env)
./mvnw package
```

(The package phase invokes the dockerBuild goal of the [jib](https://github.com/GoogleContainerTools/jib) plugin. The first build is slow, but subsequent builds are typically much faster.)

Deploy to minikube:

```
kubectl apply -f ./minikube.yaml
```

Test the application:

```
curl $(minikube service vertx-demo-service --url --https) --insecure
# Hello from Vert.x!
```

Unfortunately, the service running in minikube is assigned a random IP address that does not match any SAN of the application's SSL certificate, so we must pass the `--insecure` option.

== Help

* https://vertx.io/docs/[Vert.x Documentation]
* https://stackoverflow.com/questions/tagged/vert.x?sort=newest&pageSize=15[Vert.x Stack Overflow]
* https://groups.google.com/forum/?fromgroups#!forum/vertx[Vert.x User Group]
* https://gitter.im/eclipse-vertx/vertx-users[Vert.x Gitter]


